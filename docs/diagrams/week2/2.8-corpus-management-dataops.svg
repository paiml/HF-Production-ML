<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1920 1080">
  <defs>
    <linearGradient id="corpusGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#3b82f6"/>
      <stop offset="100%" stop-color="#1d4ed8"/>
    </linearGradient>
    <linearGradient id="trainGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#8b5cf6"/>
      <stop offset="100%" stop-color="#6d28d9"/>
    </linearGradient>
    <linearGradient id="evalGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#f59e0b"/>
      <stop offset="100%" stop-color="#d97706"/>
    </linearGradient>
    <linearGradient id="publishGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#22c55e"/>
      <stop offset="100%" stop-color="#16a34a"/>
    </linearGradient>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#64748b"/>
    </marker>
    <marker id="arrowBlue" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#3b82f6"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="1920" height="1080" fill="#020617"/>

  <!-- Title -->
  <text x="960" y="50" text-anchor="middle" fill="#f8fafc" font-family="Inter, system-ui, sans-serif" font-size="36" font-weight="700">2.8 Corpus Management and DataOps</text>
  <text x="960" y="85" text-anchor="middle" fill="#64748b" font-family="Inter, system-ui, sans-serif" font-size="16">Versioning Training Data Alongside Model Artifacts</text>

  <!-- Central Cycle -->
  <!-- Corpus -->
  <g transform="translate(480, 400)">
    <rect x="-200" y="-150" width="400" height="300" rx="20" fill="#0f172a" stroke="#3b82f6" stroke-width="3"/>
    <rect x="-190" y="-140" width="380" height="280" rx="16" fill="url(#corpusGrad)" opacity="0.1"/>

    <text x="0" y="-105" text-anchor="middle" fill="#60a5fa" font-family="Inter, system-ui, sans-serif" font-size="24" font-weight="700">CORPUS</text>
    <text x="0" y="-75" text-anchor="middle" fill="#64748b" font-family="Inter, system-ui, sans-serif" font-size="12">HuggingFace Datasets</text>

    <!-- Dataset visualization -->
    <g transform="translate(0, 0)">
      <rect x="-160" y="-40" width="320" height="160" rx="8" fill="#1e293b"/>

      <!-- Files -->
      <g transform="translate(-120, -10)">
        <rect x="-30" y="-20" width="60" height="70" rx="4" fill="#1e3a5f"/>
        <text x="0" y="0" text-anchor="middle" fill="#60a5fa" font-family="JetBrains Mono, monospace" font-size="9">train/</text>
        <text x="0" y="15" text-anchor="middle" fill="#93c5fd" font-family="JetBrains Mono, monospace" font-size="8">10,234</text>
        <text x="0" y="30" text-anchor="middle" fill="#64748b" font-family="JetBrains Mono, monospace" font-size="8">pairs</text>
      </g>

      <g transform="translate(-40, -10)">
        <rect x="-30" y="-20" width="60" height="70" rx="4" fill="#1e3a5f"/>
        <text x="0" y="0" text-anchor="middle" fill="#60a5fa" font-family="JetBrains Mono, monospace" font-size="9">valid/</text>
        <text x="0" y="15" text-anchor="middle" fill="#93c5fd" font-family="JetBrains Mono, monospace" font-size="8">1,024</text>
        <text x="0" y="30" text-anchor="middle" fill="#64748b" font-family="JetBrains Mono, monospace" font-size="8">pairs</text>
      </g>

      <g transform="translate(40, -10)">
        <rect x="-30" y="-20" width="60" height="70" rx="4" fill="#1e3a5f"/>
        <text x="0" y="0" text-anchor="middle" fill="#60a5fa" font-family="JetBrains Mono, monospace" font-size="9">test/</text>
        <text x="0" y="15" text-anchor="middle" fill="#93c5fd" font-family="JetBrains Mono, monospace" font-size="8">512</text>
        <text x="0" y="30" text-anchor="middle" fill="#64748b" font-family="JetBrains Mono, monospace" font-size="8">pairs</text>
      </g>

      <g transform="translate(120, -10)">
        <rect x="-30" y="-20" width="60" height="70" rx="4" fill="#1e3a5f"/>
        <text x="0" y="0" text-anchor="middle" fill="#60a5fa" font-family="JetBrains Mono, monospace" font-size="9">meta/</text>
        <text x="0" y="15" text-anchor="middle" fill="#93c5fd" font-family="JetBrains Mono, monospace" font-size="8">schema</text>
        <text x="0" y="30" text-anchor="middle" fill="#64748b" font-family="JetBrains Mono, monospace" font-size="8">stats</text>
      </g>

      <!-- Version tag -->
      <rect x="-60" y="70" width="120" height="30" rx="4" fill="#3b82f6" opacity="0.3"/>
      <text x="0" y="90" text-anchor="middle" fill="#93c5fd" font-family="JetBrains Mono, monospace" font-size="10">v2.1.0</text>
    </g>
  </g>

  <!-- Arrow to Train -->
  <path d="M 685 320 Q 800 280 880 320" stroke="#64748b" stroke-width="3" fill="none" marker-end="url(#arrow)"/>
  <text x="790" y="270" text-anchor="middle" fill="#64748b" font-family="Inter, system-ui, sans-serif" font-size="11">load</text>

  <!-- Train -->
  <g transform="translate(1000, 280)">
    <rect x="-120" y="-100" width="240" height="200" rx="16" fill="#0f172a" stroke="#8b5cf6" stroke-width="3"/>
    <rect x="-110" y="-90" width="220" height="180" rx="12" fill="url(#trainGrad)" opacity="0.1"/>

    <text x="0" y="-60" text-anchor="middle" fill="#a78bfa" font-family="Inter, system-ui, sans-serif" font-size="20" font-weight="700">TRAIN</text>

    <rect x="-90" y="-30" width="180" height="40" rx="6" fill="#2e1065"/>
    <text x="0" y="-5" text-anchor="middle" fill="#c4b5fd" font-family="Inter, system-ui, sans-serif" font-size="11">Oracle Learning</text>

    <rect x="-90" y="20" width="180" height="40" rx="6" fill="#2e1065"/>
    <text x="0" y="45" text-anchor="middle" fill="#c4b5fd" font-family="Inter, system-ui, sans-serif" font-size="11">Pattern Extraction</text>

    <text x="0" y="80" text-anchor="middle" fill="#64748b" font-family="JetBrains Mono, monospace" font-size="10">depyler train</text>
  </g>

  <!-- Arrow to Evaluate -->
  <path d="M 1000 385 Q 1000 450 1000 480" stroke="#64748b" stroke-width="3" fill="none" marker-end="url(#arrow)"/>
  <text x="1040" y="440" text-anchor="middle" fill="#64748b" font-family="Inter, system-ui, sans-serif" font-size="11">model</text>

  <!-- Evaluate -->
  <g transform="translate(1000, 600)">
    <rect x="-120" y="-100" width="240" height="200" rx="16" fill="#0f172a" stroke="#f59e0b" stroke-width="3"/>
    <rect x="-110" y="-90" width="220" height="180" rx="12" fill="url(#evalGrad)" opacity="0.1"/>

    <text x="0" y="-60" text-anchor="middle" fill="#fbbf24" font-family="Inter, system-ui, sans-serif" font-size="20" font-weight="700">EVALUATE</text>

    <rect x="-90" y="-30" width="180" height="40" rx="6" fill="#451a03"/>
    <text x="0" y="-5" text-anchor="middle" fill="#fcd34d" font-family="Inter, system-ui, sans-serif" font-size="11">Accuracy: 78.3%</text>

    <rect x="-90" y="20" width="180" height="40" rx="6" fill="#451a03"/>
    <text x="0" y="45" text-anchor="middle" fill="#fcd34d" font-family="Inter, system-ui, sans-serif" font-size="11">Tarantula Score</text>

    <text x="0" y="80" text-anchor="middle" fill="#64748b" font-family="JetBrains Mono, monospace" font-size="10">depyler eval</text>
  </g>

  <!-- Arrow to Publish -->
  <path d="M 885 650 Q 780 700 685 650" stroke="#64748b" stroke-width="3" fill="none" marker-end="url(#arrow)"/>
  <text x="780" y="720" text-anchor="middle" fill="#64748b" font-family="Inter, system-ui, sans-serif" font-size="11">results</text>

  <!-- Publish -->
  <g transform="translate(1440, 400)">
    <rect x="-200" y="-150" width="400" height="300" rx="20" fill="#0f172a" stroke="#22c55e" stroke-width="3"/>
    <rect x="-190" y="-140" width="380" height="280" rx="16" fill="url(#publishGrad)" opacity="0.1"/>

    <text x="0" y="-105" text-anchor="middle" fill="#4ade80" font-family="Inter, system-ui, sans-serif" font-size="24" font-weight="700">PUBLISH</text>
    <text x="0" y="-75" text-anchor="middle" fill="#64748b" font-family="Inter, system-ui, sans-serif" font-size="12">HuggingFace Hub</text>

    <!-- Published artifacts -->
    <g transform="translate(0, 0)">
      <rect x="-160" y="-40" width="320" height="160" rx="8" fill="#1e293b"/>

      <g transform="translate(-80, 10)">
        <rect x="-60" y="-35" width="120" height="70" rx="6" fill="#052e16" stroke="#22c55e" stroke-width="1"/>
        <text x="0" y="-10" text-anchor="middle" fill="#4ade80" font-family="Inter, system-ui, sans-serif" font-size="11" font-weight="600">Model</text>
        <text x="0" y="10" text-anchor="middle" fill="#86efac" font-family="JetBrains Mono, monospace" font-size="9">oracle.apr</text>
        <text x="0" y="25" text-anchor="middle" fill="#64748b" font-family="JetBrains Mono, monospace" font-size="8">2.4 MB</text>
      </g>

      <g transform="translate(80, 10)">
        <rect x="-60" y="-35" width="120" height="70" rx="6" fill="#052e16" stroke="#22c55e" stroke-width="1"/>
        <text x="0" y="-10" text-anchor="middle" fill="#4ade80" font-family="Inter, system-ui, sans-serif" font-size="11" font-weight="600">Dataset</text>
        <text x="0" y="10" text-anchor="middle" fill="#86efac" font-family="JetBrains Mono, monospace" font-size="9">corpus v2.1</text>
        <text x="0" y="25" text-anchor="middle" fill="#64748b" font-family="JetBrains Mono, monospace" font-size="8">linked</text>
      </g>

      <!-- Version link -->
      <rect x="-100" y="55" width="200" height="40" rx="4" fill="#1e293b" stroke="#22c55e" stroke-width="1"/>
      <text x="0" y="75" text-anchor="middle" fill="#86efac" font-family="JetBrains Mono, monospace" font-size="9">model@v1.2 ← corpus@v2.1</text>
      <text x="0" y="90" text-anchor="middle" fill="#64748b" font-family="Inter, system-ui, sans-serif" font-size="8">Version Lineage</text>
    </g>
  </g>

  <!-- Arrow back to Corpus (feedback loop) -->
  <path d="M 1240 480 Q 960 580 685 480" stroke="#3b82f6" stroke-width="2" stroke-dasharray="8,4" fill="none" marker-end="url(#arrowBlue)"/>
  <text x="960" y="560" text-anchor="middle" fill="#3b82f6" font-family="Inter, system-ui, sans-serif" font-size="11">feedback → new corpus version</text>

  <!-- Bottom: Tarantula Scoring -->
  <g transform="translate(960, 880)">
    <rect x="-800" y="-120" width="1600" height="200" rx="16" fill="#0f172a" stroke="#334155" stroke-width="2"/>
    <text x="0" y="-85" text-anchor="middle" fill="#e2e8f0" font-family="Inter, system-ui, sans-serif" font-size="18" font-weight="600">Tarantula Scoring: Defect Localization</text>

    <!-- Score visualization -->
    <g transform="translate(-500, 10)">
      <rect x="-180" y="-50" width="360" height="120" rx="8" fill="#1e293b"/>
      <text x="0" y="-25" text-anchor="middle" fill="#f87171" font-family="Inter, system-ui, sans-serif" font-size="12" font-weight="600">High Suspicion (0.8-1.0)</text>
      <rect x="-160" y="-5" width="320" height="20" rx="4" fill="#450a0a"/>
      <rect x="-160" y="-5" width="288" height="20" rx="4" fill="#ef4444" opacity="0.8"/>
      <text x="0" y="35" text-anchor="middle" fill="#fca5a5" font-family="JetBrains Mono, monospace" font-size="10">async_handler.py:42</text>
      <text x="0" y="55" text-anchor="middle" fill="#64748b" font-family="Inter, system-ui, sans-serif" font-size="9">Most likely defect location</text>
    </g>

    <g transform="translate(0, 10)">
      <rect x="-180" y="-50" width="360" height="120" rx="8" fill="#1e293b"/>
      <text x="0" y="-25" text-anchor="middle" fill="#fbbf24" font-family="Inter, system-ui, sans-serif" font-size="12" font-weight="600">Medium Suspicion (0.4-0.8)</text>
      <rect x="-160" y="-5" width="320" height="20" rx="4" fill="#451a03"/>
      <rect x="-160" y="-5" width="192" height="20" rx="4" fill="#f59e0b" opacity="0.8"/>
      <text x="0" y="35" text-anchor="middle" fill="#fcd34d" font-family="JetBrains Mono, monospace" font-size="10">parser.py:128</text>
      <text x="0" y="55" text-anchor="middle" fill="#64748b" font-family="Inter, system-ui, sans-serif" font-size="9">Investigate further</text>
    </g>

    <g transform="translate(500, 10)">
      <rect x="-180" y="-50" width="360" height="120" rx="8" fill="#1e293b"/>
      <text x="0" y="-25" text-anchor="middle" fill="#4ade80" font-family="Inter, system-ui, sans-serif" font-size="12" font-weight="600">Low Suspicion (0.0-0.4)</text>
      <rect x="-160" y="-5" width="320" height="20" rx="4" fill="#052e16"/>
      <rect x="-160" y="-5" width="96" height="20" rx="4" fill="#22c55e" opacity="0.8"/>
      <text x="0" y="35" text-anchor="middle" fill="#86efac" font-family="JetBrains Mono, monospace" font-size="10">utils.py:15</text>
      <text x="0" y="55" text-anchor="middle" fill="#64748b" font-family="Inter, system-ui, sans-serif" font-size="9">Likely correct</text>
    </g>
  </g>

  <!-- Footer -->
  <text x="960" y="1060" text-anchor="middle" fill="#475569" font-family="Inter, system-ui, sans-serif" font-size="14">DataOps: Corpus versioning + Model lineage + Tarantula defect scoring</text>
</svg>
