<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1920 1080">
  <defs>
    <linearGradient id="hfGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#ff9d00"/>
      <stop offset="100%" stop-color="#ff6b00"/>
    </linearGradient>
    <linearGradient id="lfsGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#8b5cf6"/>
      <stop offset="100%" stop-color="#6d28d9"/>
    </linearGradient>
    <linearGradient id="artifactGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#22c55e"/>
      <stop offset="100%" stop-color="#16a34a"/>
    </linearGradient>
    <linearGradient id="configGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#3b82f6"/>
      <stop offset="100%" stop-color="#1d4ed8"/>
    </linearGradient>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#64748b"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="1920" height="1080" fill="#020617"/>

  <!-- Title -->
  <text x="960" y="50" text-anchor="middle" fill="#f8fafc" font-family="Inter, system-ui, sans-serif" font-size="36" font-weight="700">2.1 Model Registry Architecture</text>
  <text x="960" y="85" text-anchor="middle" fill="#64748b" font-family="Inter, system-ui, sans-serif" font-size="16">HuggingFace Hub Structure</text>

  <!-- Central Hub Icon -->
  <g transform="translate(960, 350)">
    <circle cx="0" cy="0" r="100" fill="#0f172a" stroke="#ff9d00" stroke-width="4"/>
    <circle cx="0" cy="0" r="80" fill="url(#hfGrad)" opacity="0.2"/>
    <text x="0" y="-15" text-anchor="middle" fill="#fbbf24" font-family="Inter, system-ui, sans-serif" font-size="28" font-weight="700">HF</text>
    <text x="0" y="15" text-anchor="middle" fill="#fcd34d" font-family="Inter, system-ui, sans-serif" font-size="16">Hub</text>
    <text x="0" y="40" text-anchor="middle" fill="#64748b" font-family="Inter, system-ui, sans-serif" font-size="11">hf://org/model</text>
  </g>

  <!-- Repository Box (Top) -->
  <g transform="translate(960, 140)">
    <rect x="-200" y="-50" width="400" height="100" rx="12" fill="#0f172a" stroke="#334155" stroke-width="2"/>
    <text x="0" y="-20" text-anchor="middle" fill="#e2e8f0" font-family="Inter, system-ui, sans-serif" font-size="18" font-weight="600">Model Repository</text>
    <text x="0" y="10" text-anchor="middle" fill="#64748b" font-family="JetBrains Mono, monospace" font-size="12">Qwen/Qwen2.5-Coder-1.5B</text>
    <text x="0" y="30" text-anchor="middle" fill="#64748b" font-family="Inter, system-ui, sans-serif" font-size="11">Git-based versioning</text>
  </g>

  <!-- Arrow from repo to hub -->
  <line x1="960" y1="195" x2="960" y2="245" stroke="#64748b" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Artifact Boxes (Left Side) -->
  <!-- Weights -->
  <g transform="translate(400, 280)">
    <rect x="-140" y="-55" width="280" height="110" rx="12" fill="#0f172a" stroke="#22c55e" stroke-width="2"/>
    <rect x="-130" y="-45" width="260" height="90" rx="8" fill="url(#artifactGrad)" opacity="0.15"/>
    <text x="0" y="-20" text-anchor="middle" fill="#4ade80" font-family="Inter, system-ui, sans-serif" font-size="16" font-weight="600">Model Weights</text>
    <rect x="-110" y="0" width="70" height="28" rx="4" fill="#1e293b"/>
    <text x="-75" y="20" text-anchor="middle" fill="#86efac" font-family="JetBrains Mono, monospace" font-size="10">.safetensors</text>
    <rect x="-30" y="0" width="50" height="28" rx="4" fill="#1e293b"/>
    <text x="-5" y="20" text-anchor="middle" fill="#86efac" font-family="JetBrains Mono, monospace" font-size="10">.gguf</text>
    <rect x="30" y="0" width="50" height="28" rx="4" fill="#1e293b"/>
    <text x="55" y="20" text-anchor="middle" fill="#86efac" font-family="JetBrains Mono, monospace" font-size="10">.apr</text>
  </g>

  <!-- Config -->
  <g transform="translate(400, 430)">
    <rect x="-140" y="-55" width="280" height="110" rx="12" fill="#0f172a" stroke="#3b82f6" stroke-width="2"/>
    <rect x="-130" y="-45" width="260" height="90" rx="8" fill="url(#configGrad)" opacity="0.15"/>
    <text x="0" y="-20" text-anchor="middle" fill="#60a5fa" font-family="Inter, system-ui, sans-serif" font-size="16" font-weight="600">Configuration</text>
    <rect x="-110" y="0" width="100" height="28" rx="4" fill="#1e293b"/>
    <text x="-60" y="20" text-anchor="middle" fill="#93c5fd" font-family="JetBrains Mono, monospace" font-size="10">config.json</text>
    <rect x="0" y="0" width="110" height="28" rx="4" fill="#1e293b"/>
    <text x="55" y="20" text-anchor="middle" fill="#93c5fd" font-family="JetBrains Mono, monospace" font-size="10">tokenizer.json</text>
  </g>

  <!-- Arrows from artifacts to hub -->
  <line x1="545" y1="300" x2="860" y2="340" stroke="#64748b" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="545" y1="410" x2="860" y2="360" stroke="#64748b" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Artifact Boxes (Right Side) -->
  <!-- LFS Storage -->
  <g transform="translate(1520, 280)">
    <rect x="-140" y="-55" width="280" height="110" rx="12" fill="#0f172a" stroke="#8b5cf6" stroke-width="2"/>
    <rect x="-130" y="-45" width="260" height="90" rx="8" fill="url(#lfsGrad)" opacity="0.15"/>
    <text x="0" y="-20" text-anchor="middle" fill="#a78bfa" font-family="Inter, system-ui, sans-serif" font-size="16" font-weight="600">Git LFS Storage</text>
    <text x="0" y="5" text-anchor="middle" fill="#c4b5fd" font-family="Inter, system-ui, sans-serif" font-size="12">Files &gt; 10MB</text>
    <rect x="-80" y="18" width="160" height="24" rx="4" fill="#1e293b"/>
    <text x="0" y="35" text-anchor="middle" fill="#c4b5fd" font-family="JetBrains Mono, monospace" font-size="10">max 50GB per file</text>
  </g>

  <!-- Model Card -->
  <g transform="translate(1520, 430)">
    <rect x="-140" y="-55" width="280" height="110" rx="12" fill="#0f172a" stroke="#f59e0b" stroke-width="2"/>
    <rect x="-130" y="-45" width="260" height="90" rx="8" fill="#f59e0b" opacity="0.1"/>
    <text x="0" y="-20" text-anchor="middle" fill="#fbbf24" font-family="Inter, system-ui, sans-serif" font-size="16" font-weight="600">Model Card</text>
    <rect x="-110" y="0" width="90" height="28" rx="4" fill="#1e293b"/>
    <text x="-65" y="20" text-anchor="middle" fill="#fcd34d" font-family="JetBrains Mono, monospace" font-size="10">README.md</text>
    <rect x="-10" y="0" width="120" height="28" rx="4" fill="#1e293b"/>
    <text x="50" y="20" text-anchor="middle" fill="#fcd34d" font-family="JetBrains Mono, monospace" font-size="10">LICENSE</text>
  </g>

  <!-- Arrows from hub to right artifacts -->
  <line x1="1060" y1="340" x2="1375" y2="300" stroke="#64748b" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="1060" y1="360" x2="1375" y2="410" stroke="#64748b" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Bottom: URI Resolution Flow -->
  <g transform="translate(960, 620)">
    <rect x="-800" y="-40" width="1600" height="180" rx="16" fill="#0f172a" stroke="#334155" stroke-width="2"/>
    <text x="0" y="-10" text-anchor="middle" fill="#e2e8f0" font-family="Inter, system-ui, sans-serif" font-size="16" font-weight="600">URI Resolution Flow</text>

    <!-- Flow boxes -->
    <g transform="translate(-600, 60)">
      <rect x="-100" y="-35" width="200" height="70" rx="8" fill="#1e293b" stroke="#22c55e" stroke-width="2"/>
      <text x="0" y="-5" text-anchor="middle" fill="#4ade80" font-family="JetBrains Mono, monospace" font-size="11">apr pull</text>
      <text x="0" y="15" text-anchor="middle" fill="#64748b" font-family="JetBrains Mono, monospace" font-size="10">hf://Qwen/...</text>
    </g>

    <line x1="-395" y1="60" x2="-305" y2="60" stroke="#64748b" stroke-width="2" marker-end="url(#arrow)"/>

    <g transform="translate(-200, 60)">
      <rect x="-100" y="-35" width="200" height="70" rx="8" fill="#1e293b" stroke="#3b82f6" stroke-width="2"/>
      <text x="0" y="-5" text-anchor="middle" fill="#60a5fa" font-family="Inter, system-ui, sans-serif" font-size="11">Parse URI</text>
      <text x="0" y="15" text-anchor="middle" fill="#64748b" font-family="Inter, system-ui, sans-serif" font-size="10">org + repo + file</text>
    </g>

    <line x1="5" y1="60" x2="95" y2="60" stroke="#64748b" stroke-width="2" marker-end="url(#arrow)"/>

    <g transform="translate(200, 60)">
      <rect x="-100" y="-35" width="200" height="70" rx="8" fill="#1e293b" stroke="#f59e0b" stroke-width="2"/>
      <text x="0" y="-5" text-anchor="middle" fill="#fbbf24" font-family="Inter, system-ui, sans-serif" font-size="11">Download</text>
      <text x="0" y="15" text-anchor="middle" fill="#64748b" font-family="Inter, system-ui, sans-serif" font-size="10">LFS + metadata</text>
    </g>

    <line x1="405" y1="60" x2="495" y2="60" stroke="#64748b" stroke-width="2" marker-end="url(#arrow)"/>

    <g transform="translate(600, 60)">
      <rect x="-100" y="-35" width="200" height="70" rx="8" fill="#1e293b" stroke="#8b5cf6" stroke-width="2"/>
      <text x="0" y="-5" text-anchor="middle" fill="#a78bfa" font-family="Inter, system-ui, sans-serif" font-size="11">Cache</text>
      <text x="0" y="15" text-anchor="middle" fill="#64748b" font-family="JetBrains Mono, monospace" font-size="9">~/.cache/pacha/models/</text>
    </g>
  </g>

  <!-- Bottom: Versioning -->
  <g transform="translate(960, 880)">
    <rect x="-800" y="-50" width="1600" height="160" rx="16" fill="#0f172a" stroke="#334155" stroke-width="2"/>
    <text x="0" y="-20" text-anchor="middle" fill="#e2e8f0" font-family="Inter, system-ui, sans-serif" font-size="16" font-weight="600">Git-based Versioning</text>

    <!-- Version timeline -->
    <line x1="-650" y1="50" x2="650" y2="50" stroke="#334155" stroke-width="3"/>

    <!-- Commits -->
    <g transform="translate(-500, 50)">
      <circle cx="0" cy="0" r="16" fill="#22c55e"/>
      <text x="0" y="5" text-anchor="middle" fill="#020617" font-family="JetBrains Mono, monospace" font-size="10">v1</text>
      <text x="0" y="-30" text-anchor="middle" fill="#64748b" font-family="Inter, system-ui, sans-serif" font-size="10">Initial</text>
    </g>

    <g transform="translate(-167, 50)">
      <circle cx="0" cy="0" r="16" fill="#3b82f6"/>
      <text x="0" y="5" text-anchor="middle" fill="#f8fafc" font-family="JetBrains Mono, monospace" font-size="10">v2</text>
      <text x="0" y="-30" text-anchor="middle" fill="#64748b" font-family="Inter, system-ui, sans-serif" font-size="10">Quantized</text>
    </g>

    <g transform="translate(167, 50)">
      <circle cx="0" cy="0" r="16" fill="#8b5cf6"/>
      <text x="0" y="5" text-anchor="middle" fill="#f8fafc" font-family="JetBrains Mono, monospace" font-size="10">v3</text>
      <text x="0" y="-30" text-anchor="middle" fill="#64748b" font-family="Inter, system-ui, sans-serif" font-size="10">Fine-tuned</text>
    </g>

    <g transform="translate(500, 50)">
      <circle cx="0" cy="0" r="20" fill="#f59e0b" stroke="#fbbf24" stroke-width="3"/>
      <text x="0" y="5" text-anchor="middle" fill="#020617" font-family="JetBrains Mono, monospace" font-size="10">HEAD</text>
      <text x="0" y="-35" text-anchor="middle" fill="#fbbf24" font-family="Inter, system-ui, sans-serif" font-size="10">Latest</text>
    </g>
  </g>

  <!-- Footer -->
  <text x="960" y="1060" text-anchor="middle" fill="#475569" font-family="Inter, system-ui, sans-serif" font-size="14">Model Registry: Artifacts + Versioning + LFS Storage</text>
</svg>
