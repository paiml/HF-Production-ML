<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1920 1080">
  <defs>
    <linearGradient id="buildGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#3b82f6"/>
      <stop offset="100%" stop-color="#1d4ed8"/>
    </linearGradient>
    <linearGradient id="testGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#8b5cf6"/>
      <stop offset="100%" stop-color="#6d28d9"/>
    </linearGradient>
    <linearGradient id="validateGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#f59e0b"/>
      <stop offset="100%" stop-color="#d97706"/>
    </linearGradient>
    <linearGradient id="deployGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#22c55e"/>
      <stop offset="100%" stop-color="#16a34a"/>
    </linearGradient>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#64748b"/>
    </marker>
    <marker id="arrowGreen" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#22c55e"/>
    </marker>
    <marker id="arrowRed" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#ef4444"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="1920" height="1080" fill="#020617"/>

  <!-- Title -->
  <text x="960" y="50" text-anchor="middle" fill="#f8fafc" font-family="Inter, system-ui, sans-serif" font-size="36" font-weight="700">2.2 CI/CD Pipeline for ML</text>
  <text x="960" y="85" text-anchor="middle" fill="#64748b" font-family="Inter, system-ui, sans-serif" font-size="16">Automated Build, Test, Validate, Deploy</text>

  <!-- Main Pipeline Flow -->
  <!-- Stage 1: Source -->
  <g transform="translate(160, 300)">
    <rect x="-120" y="-80" width="240" height="160" rx="16" fill="#0f172a" stroke="#64748b" stroke-width="3"/>
    <circle cx="0" cy="-30" r="30" fill="#1e293b" stroke="#64748b" stroke-width="2"/>
    <text x="0" y="-25" text-anchor="middle" fill="#94a3b8" font-family="Inter, system-ui, sans-serif" font-size="24">1</text>
    <text x="0" y="20" text-anchor="middle" fill="#e2e8f0" font-family="Inter, system-ui, sans-serif" font-size="18" font-weight="600">Source</text>
    <text x="0" y="45" text-anchor="middle" fill="#64748b" font-family="JetBrains Mono, monospace" font-size="11">git push</text>
    <text x="0" y="62" text-anchor="middle" fill="#64748b" font-family="JetBrains Mono, monospace" font-size="11">PR merge</text>
  </g>

  <line x1="285" y1="300" x2="375" y2="300" stroke="#64748b" stroke-width="3" marker-end="url(#arrow)"/>

  <!-- Stage 2: Build -->
  <g transform="translate(480, 300)">
    <rect x="-120" y="-80" width="240" height="160" rx="16" fill="#0f172a" stroke="#3b82f6" stroke-width="3"/>
    <rect x="-110" y="-70" width="220" height="140" rx="12" fill="url(#buildGrad)" opacity="0.15"/>
    <circle cx="0" cy="-30" r="30" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
    <text x="0" y="-25" text-anchor="middle" fill="#60a5fa" font-family="Inter, system-ui, sans-serif" font-size="24">2</text>
    <text x="0" y="20" text-anchor="middle" fill="#60a5fa" font-family="Inter, system-ui, sans-serif" font-size="18" font-weight="600">Build</text>
    <text x="0" y="45" text-anchor="middle" fill="#64748b" font-family="JetBrains Mono, monospace" font-size="11">cargo build</text>
    <text x="0" y="62" text-anchor="middle" fill="#64748b" font-family="JetBrains Mono, monospace" font-size="11">make compile</text>
  </g>

  <line x1="605" y1="300" x2="695" y2="300" stroke="#64748b" stroke-width="3" marker-end="url(#arrow)"/>

  <!-- Stage 3: Test -->
  <g transform="translate(800, 300)">
    <rect x="-120" y="-80" width="240" height="160" rx="16" fill="#0f172a" stroke="#8b5cf6" stroke-width="3"/>
    <rect x="-110" y="-70" width="220" height="140" rx="12" fill="url(#testGrad)" opacity="0.15"/>
    <circle cx="0" cy="-30" r="30" fill="#2e1065" stroke="#8b5cf6" stroke-width="2"/>
    <text x="0" y="-25" text-anchor="middle" fill="#a78bfa" font-family="Inter, system-ui, sans-serif" font-size="24">3</text>
    <text x="0" y="20" text-anchor="middle" fill="#a78bfa" font-family="Inter, system-ui, sans-serif" font-size="18" font-weight="600">Test</text>
    <text x="0" y="45" text-anchor="middle" fill="#64748b" font-family="JetBrains Mono, monospace" font-size="11">cargo test</text>
    <text x="0" y="62" text-anchor="middle" fill="#64748b" font-family="JetBrains Mono, monospace" font-size="11">make lint</text>
  </g>

  <line x1="925" y1="300" x2="1015" y2="300" stroke="#64748b" stroke-width="3" marker-end="url(#arrow)"/>

  <!-- Stage 4: Validate -->
  <g transform="translate(1120, 300)">
    <rect x="-120" y="-80" width="240" height="160" rx="16" fill="#0f172a" stroke="#f59e0b" stroke-width="3"/>
    <rect x="-110" y="-70" width="220" height="140" rx="12" fill="url(#validateGrad)" opacity="0.15"/>
    <circle cx="0" cy="-30" r="30" fill="#451a03" stroke="#f59e0b" stroke-width="2"/>
    <text x="0" y="-25" text-anchor="middle" fill="#fbbf24" font-family="Inter, system-ui, sans-serif" font-size="24">4</text>
    <text x="0" y="20" text-anchor="middle" fill="#fbbf24" font-family="Inter, system-ui, sans-serif" font-size="18" font-weight="600">Validate</text>
    <text x="0" y="45" text-anchor="middle" fill="#64748b" font-family="JetBrains Mono, monospace" font-size="11">make bench</text>
    <text x="0" y="62" text-anchor="middle" fill="#64748b" font-family="JetBrains Mono, monospace" font-size="11">accuracy check</text>
  </g>

  <line x1="1245" y1="300" x2="1335" y2="300" stroke="#64748b" stroke-width="3" marker-end="url(#arrow)"/>

  <!-- Stage 5: Deploy -->
  <g transform="translate(1440, 300)">
    <rect x="-120" y="-80" width="240" height="160" rx="16" fill="#0f172a" stroke="#22c55e" stroke-width="3"/>
    <rect x="-110" y="-70" width="220" height="140" rx="12" fill="url(#deployGrad)" opacity="0.15"/>
    <circle cx="0" cy="-30" r="30" fill="#052e16" stroke="#22c55e" stroke-width="2"/>
    <text x="0" y="-25" text-anchor="middle" fill="#4ade80" font-family="Inter, system-ui, sans-serif" font-size="24">5</text>
    <text x="0" y="20" text-anchor="middle" fill="#4ade80" font-family="Inter, system-ui, sans-serif" font-size="18" font-weight="600">Deploy</text>
    <text x="0" y="45" text-anchor="middle" fill="#64748b" font-family="JetBrains Mono, monospace" font-size="11">make deploy</text>
    <text x="0" y="62" text-anchor="middle" fill="#64748b" font-family="JetBrains Mono, monospace" font-size="11">apr publish</text>
  </g>

  <line x1="1565" y1="300" x2="1655" y2="300" stroke="#64748b" stroke-width="3" marker-end="url(#arrow)"/>

  <!-- Production -->
  <g transform="translate(1760, 300)">
    <rect x="-80" y="-80" width="160" height="160" rx="16" fill="#052e16" stroke="#22c55e" stroke-width="4"/>
    <text x="0" y="-10" text-anchor="middle" fill="#4ade80" font-family="Inter, system-ui, sans-serif" font-size="16" font-weight="700">PROD</text>
    <text x="0" y="15" text-anchor="middle" fill="#86efac" font-family="Inter, system-ui, sans-serif" font-size="12">Live</text>
  </g>

  <!-- Quality Gates (Below Pipeline) -->
  <g transform="translate(960, 550)">
    <rect x="-750" y="-60" width="1500" height="180" rx="16" fill="#0f172a" stroke="#334155" stroke-width="2"/>
    <text x="0" y="-30" text-anchor="middle" fill="#e2e8f0" font-family="Inter, system-ui, sans-serif" font-size="18" font-weight="600">Quality Gates</text>

    <!-- Gate 1 -->
    <g transform="translate(-550, 40)">
      <rect x="-90" y="-40" width="180" height="80" rx="8" fill="#1e293b" stroke="#3b82f6" stroke-width="2"/>
      <text x="0" y="-10" text-anchor="middle" fill="#60a5fa" font-family="Inter, system-ui, sans-serif" font-size="12" font-weight="600">Compilation</text>
      <text x="0" y="10" text-anchor="middle" fill="#64748b" font-family="Inter, system-ui, sans-serif" font-size="10">Zero warnings</text>
      <text x="0" y="25" text-anchor="middle" fill="#64748b" font-family="Inter, system-ui, sans-serif" font-size="10">clippy clean</text>
    </g>

    <!-- Gate 2 -->
    <g transform="translate(-275, 40)">
      <rect x="-90" y="-40" width="180" height="80" rx="8" fill="#1e293b" stroke="#8b5cf6" stroke-width="2"/>
      <text x="0" y="-10" text-anchor="middle" fill="#a78bfa" font-family="Inter, system-ui, sans-serif" font-size="12" font-weight="600">Test Coverage</text>
      <text x="0" y="10" text-anchor="middle" fill="#64748b" font-family="Inter, system-ui, sans-serif" font-size="10">95% minimum</text>
      <text x="0" y="25" text-anchor="middle" fill="#64748b" font-family="Inter, system-ui, sans-serif" font-size="10">all tests pass</text>
    </g>

    <!-- Gate 3 -->
    <g transform="translate(0, 40)">
      <rect x="-90" y="-40" width="180" height="80" rx="8" fill="#1e293b" stroke="#f59e0b" stroke-width="2"/>
      <text x="0" y="-10" text-anchor="middle" fill="#fbbf24" font-family="Inter, system-ui, sans-serif" font-size="12" font-weight="600">Performance</text>
      <text x="0" y="10" text-anchor="middle" fill="#64748b" font-family="Inter, system-ui, sans-serif" font-size="10">Latency &lt; 10ms</text>
      <text x="0" y="25" text-anchor="middle" fill="#64748b" font-family="Inter, system-ui, sans-serif" font-size="10">250+ tok/s</text>
    </g>

    <!-- Gate 4 -->
    <g transform="translate(275, 40)">
      <rect x="-90" y="-40" width="180" height="80" rx="8" fill="#1e293b" stroke="#ec4899" stroke-width="2"/>
      <text x="0" y="-10" text-anchor="middle" fill="#f472b6" font-family="Inter, system-ui, sans-serif" font-size="12" font-weight="600">Accuracy</text>
      <text x="0" y="10" text-anchor="middle" fill="#64748b" font-family="Inter, system-ui, sans-serif" font-size="10">Golden dataset</text>
      <text x="0" y="25" text-anchor="middle" fill="#64748b" font-family="Inter, system-ui, sans-serif" font-size="10">regression check</text>
    </g>

    <!-- Gate 5 -->
    <g transform="translate(550, 40)">
      <rect x="-90" y="-40" width="180" height="80" rx="8" fill="#1e293b" stroke="#22c55e" stroke-width="2"/>
      <text x="0" y="-10" text-anchor="middle" fill="#4ade80" font-family="Inter, system-ui, sans-serif" font-size="12" font-weight="600">Security</text>
      <text x="0" y="10" text-anchor="middle" fill="#64748b" font-family="Inter, system-ui, sans-serif" font-size="10">No vulnerabilities</text>
      <text x="0" y="25" text-anchor="middle" fill="#64748b" font-family="Inter, system-ui, sans-serif" font-size="10">signed artifacts</text>
    </g>
  </g>

  <!-- Feedback Loops -->
  <g transform="translate(960, 820)">
    <rect x="-750" y="-60" width="1500" height="180" rx="16" fill="#0f172a" stroke="#334155" stroke-width="2"/>
    <text x="0" y="-30" text-anchor="middle" fill="#e2e8f0" font-family="Inter, system-ui, sans-serif" font-size="18" font-weight="600">Feedback Loops</text>

    <!-- Pass path -->
    <g transform="translate(-400, 50)">
      <rect x="-180" y="-40" width="360" height="80" rx="8" fill="#052e16" stroke="#22c55e" stroke-width="2"/>
      <circle cx="-130" cy="0" r="20" fill="#22c55e"/>
      <text x="-130" y="5" text-anchor="middle" fill="#020617" font-family="Inter, system-ui, sans-serif" font-size="16" font-weight="700">&#10003;</text>
      <text x="20" y="-10" text-anchor="middle" fill="#4ade80" font-family="Inter, system-ui, sans-serif" font-size="14" font-weight="600">All Gates Pass</text>
      <text x="20" y="15" text-anchor="middle" fill="#86efac" font-family="Inter, system-ui, sans-serif" font-size="11">Promote to production</text>
    </g>

    <!-- Fail path -->
    <g transform="translate(400, 50)">
      <rect x="-180" y="-40" width="360" height="80" rx="8" fill="#450a0a" stroke="#ef4444" stroke-width="2"/>
      <circle cx="-130" cy="0" r="20" fill="#ef4444"/>
      <text x="-130" y="5" text-anchor="middle" fill="#020617" font-family="Inter, system-ui, sans-serif" font-size="16" font-weight="700">&#10007;</text>
      <text x="20" y="-10" text-anchor="middle" fill="#f87171" font-family="Inter, system-ui, sans-serif" font-size="14" font-weight="600">Gate Failure</text>
      <text x="20" y="15" text-anchor="middle" fill="#fca5a5" font-family="Inter, system-ui, sans-serif" font-size="11">Block + notify + fix</text>
    </g>
  </g>

  <!-- Footer -->
  <text x="960" y="1060" text-anchor="middle" fill="#475569" font-family="Inter, system-ui, sans-serif" font-size="14">CI/CD: Automated Quality Gates from Source to Production</text>
</svg>
